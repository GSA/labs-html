<?php$route = '/simple-api/offices/';$app->get($route, function ()  use ($app){	if(isset($_REQUEST['query'])){ $query = $_REQUEST['query']; } else { $query = '';}	$ObjectText = file_get_contents('https://raw.github.com/simple-api/api-offices/gh-pages/offices.json');	$ObjectResult = json_decode($ObjectText,true);	$ReturnObject = array();	foreach($ObjectResult as $Object){		$IncludeRecord = 1;		$id = $Object['id'];		$office = $Object['office'];		$address_1 = $Object['address_1'];		$address_2 = $Object['address_2'];		$city = $Object['city'];		$state = $Object['state'];		$zip = $Object['zip'];		$phone = $Object['phone'];		$email = $Object['email'];		if($query!=''){		$IncludeRecord = 0;			if(strpos(strtolower($office),strtolower($query)) === 0 || strpos(strtolower($address_1),strtolower($query)) === 0 || strpos(strtolower($address_2),strtolower($query)) === 0 || strpos(strtolower($city),strtolower($query)) === 0 || strpos(strtolower($state),strtolower($query)) === 0 || strpos(strtolower($zip),strtolower($query)) === 0 || strpos(strtolower($phone),strtolower($query)) === 0 || strpos(strtolower($email),strtolower($query)) === 0)				{				$IncludeRecord = 1;				}			}		if($IncludeRecord==1)			{			$F = array();			$F['id'] = $id;			$F['office'] = $office;			$F['address_1'] = $address_1;			$F['address_2'] = $address_2;			$F['city'] = $city;			$F['state'] = $state;			$F['zip'] = $zip;			$F['phone'] = $phone;			$F['email'] = $email;			array_push($ReturnObject, $F);			}		}		$app->response()->header("Content-Type", "application/json");		echo format_json(json_encode($ReturnObject));	});$route = '/simple-api/offices/:id';$app->get($route, function ($IncomingID)  use ($app){	$ObjectText = file_get_contents('https://raw.github.com/simple-api/api-offices/gh-pages/offices.json');	$ObjectResult = json_decode($ObjectText,true);	$ReturnObject = array();	foreach($ObjectResult as $Object){		$IncludeRecord = 0;		$id = $Object['id'];		$office = $Object['office'];		$address_1 = $Object['address_1'];		$address_2 = $Object['address_2'];		$city = $Object['city'];		$state = $Object['state'];		$zip = $Object['zip'];		$phone = $Object['phone'];		$email = $Object['email'];		if($IncomingID==$id)			{			$IncludeRecord=1;			}		if($IncludeRecord==1)			{			$F = array();			$F['id'] = $id;			$F['office'] = $office;			$F['address_1'] = $address_1;			$F['address_2'] = $address_2;			$F['city'] = $city;			$F['state'] = $state;			$F['zip'] = $zip;			$F['phone'] = $phone;			$F['email'] = $email;			array_push($ReturnObject, $F);			}		}		$app->response()->header("Content-Type", "application/json");		echo format_json(json_encode($ReturnObject));	});